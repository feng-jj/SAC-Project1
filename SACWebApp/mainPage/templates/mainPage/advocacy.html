{% extends "mainPage/base.html" %}

{% block content %}
	<!-- Dashboard Title -->
		<section id="index-link" class="two">
			<div class="container">

				<header>
					<h2>Advocacy Team Dashboard</h2>
				</header>

			</div>
		</section>
		<canvas id="numberOfPeople" width="50" height="20"></canvas>
		<canvas id="ageOfPeople" width="50" height="20"></canvas>
{% endblock content %}

{% block graphs %}
<script>
var ctx = document.getElementById('numberOfPeople').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: [{% for item in advocacy %} '{{item.entry_date}}', {% endfor %}],
        datasets: [{
            label: '# of Individuals (Total)',
            data: [{% for item in advocacy %} {{item.total_ind}},
									{% endfor %}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }, {
					data: [{% for item in advocacy %} {{item.total_sess}},
								{% endfor %}],
	        label: "# of Sessions (Total)",
	        borderColor: "#8e5ea2",
	        fill: false
				}]

    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});

new Chart(document.getElementById("ageOfPeople"), {
    type: 'pie',
    data: {
      labels: ["Age 0-12", "Age 13-17","Age 18-24","Age 25-59","Age 60+"],
      datasets: [{
        label: "Age Groups",
        backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
        data: [{% for item in advocacy %} {{item.age_0_12}},{{item.age_13_17}},
				{{item.age_18_24}}, {{item.age_25_59}}, {{item.age_60_plus}},
				{% endfor %}]
      }]
    },
    options: {
      title: {
        display: true,
        text: 'Percentage of People in Different Age Groups'
      }
    }
});
</script>
{% endblock graphs %}


